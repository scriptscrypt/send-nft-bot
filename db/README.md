# Database Files

This directory contains database-related files for the Telegram bot project.

## Contents

- **SUPABASE_SETUP.md**: Documentation for setting up the Supabase database
- **supabase-setup.sql**: SQL script for creating the images table
- **supabase-setup-users.sql**: SQL script for creating the users table (wallet management)

## Usage

1. Follow the instructions in SUPABASE_SETUP.md to create a Supabase project
2. Run the SQL scripts in the Supabase SQL editor
3. Configure your environment variables as described in the setup documentation

## Schema Overview

### Images Table
Stores metadata for images generated by the bot:
- `id`: UUID primary key
- `user_id`: Telegram user ID
- `filename`: Name of the stored image file
- `prompt`: Original prompt used to generate the image
- `path`: Storage path within Supabase
- `url`: Public URL to access the image
- `created_at`: Timestamp when the image was created

### Users Table
Stores user wallet information:
- `id`: UUID primary key
- `telegram_id`: Telegram user ID (unique)
- `wallet_address`: Solana wallet address
- `wallet_id`: Privy wallet ID
- `is_wallet_delegated`: Whether the wallet is delegated for server use
- `created_at`: Timestamp when the user was created
- `updated_at`: Timestamp when the user was last updated 